!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core")):"function"==typeof define&&define.amd?define("an-qrcode",["exports","@angular/core"],e):e((r=r||self)["an-qrcode"]={},r.ng.core)}(this,(function(r,e){"use strict";var o,f,t,n,i,a,s=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],l=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],c=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],u=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],v=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],d=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],h=[],p=[],g=[],y=[],b=[];function m(r,e){var o;r>e&&(o=r,r=e,e=o),o=e,o*=e,o+=e,o>>=1,y[o+=r]=1}function q(r,e){var o;for(g[r+f*e]=1,o=-2;o<2;o++)g[r+o+f*(e-2)]=1,g[r-2+f*(e+o+1)]=1,g[r+2+f*(e+o)]=1,g[r+o+1+f*(e+2)]=1;for(o=0;o<2;o++)m(r-1,e+o),m(r+1,e-o),m(r-o,e-1),m(r+o,e+1)}function k(r){for(;r>=255;)r=((r-=255)>>8)+(255&r);return r}var z=[];function x(r,e,o,f){var t,n,i;for(t=0;t<f;t++)h[o+t]=0;for(t=0;t<e;t++){if(255!=(i=v[h[r+t]^h[o]]))for(n=1;n<f;n++)h[o+n-1]=h[o+n]^d[k(i+z[f-n])];else for(n=o;n<o+f;n++)h[n]=h[n+1];h[o+f-1]=255==i?0:d[k(i+z[0])]}}function C(r,e){var o;return r>e&&(o=r,r=e,e=o),o=e,o+=e*e,o>>=1,y[o+=r]}function R(r){var e,o,t,n;switch(r){case 0:for(o=0;o<f;o++)for(e=0;e<f;e++)e+o&1||C(e,o)||(g[e+o*f]^=1);break;case 1:for(o=0;o<f;o++)for(e=0;e<f;e++)1&o||C(e,o)||(g[e+o*f]^=1);break;case 2:for(o=0;o<f;o++)for(t=0,e=0;e<f;e++,t++)3==t&&(t=0),t||C(e,o)||(g[e+o*f]^=1);break;case 3:for(n=0,o=0;o<f;o++,n++)for(3==n&&(n=0),t=n,e=0;e<f;e++,t++)3==t&&(t=0),t||C(e,o)||(g[e+o*f]^=1);break;case 4:for(o=0;o<f;o++)for(t=0,n=o>>1&1,e=0;e<f;e++,t++)3==t&&(t=0,n=!n),n||C(e,o)||(g[e+o*f]^=1);break;case 5:for(n=0,o=0;o<f;o++,n++)for(3==n&&(n=0),t=0,e=0;e<f;e++,t++)3==t&&(t=0),(e&o&1)+!(!t|!n)||C(e,o)||(g[e+o*f]^=1);break;case 6:for(n=0,o=0;o<f;o++,n++)for(3==n&&(n=0),t=0,e=0;e<f;e++,t++)3==t&&(t=0),(e&o&1)+(t&&t==n)&1||C(e,o)||(g[e+o*f]^=1);break;case 7:for(n=0,o=0;o<f;o++,n++)for(3==n&&(n=0),t=0,e=0;e<f;e++,t++)3==t&&(t=0),(t&&t==n)+(e+o&1)&1||C(e,o)||(g[e+o*f]^=1)}}var w;function I(r){var e,o=0;for(e=0;e<=r;e++)b[e]>=5&&(o+=3+b[e]-5);for(e=3;e<r-1;e+=2)b[e-2]==b[e+2]&&b[e+2]==b[e-1]&&b[e-1]==b[e+1]&&3*b[e-1]==b[e]&&(0==b[e-3]||e+3>r||3*b[e-3]>=4*b[e]||3*b[e+3]>=4*b[e])&&(o+=40);return o}function M(){var r,e,o,t,n,i=0,a=0;for(e=0;e<f-1;e++)for(r=0;r<f-1;r++)(g[r+f*e]&&g[r+1+f*e]&&g[r+f*(e+1)]&&g[r+1+f*(e+1)]||!(g[r+f*e]||g[r+1+f*e]||g[r+f*(e+1)]||g[r+1+f*(e+1)]))&&(i+=3);for(e=0;e<f;e++){for(b[0]=0,o=t=r=0;r<f;r++)(n=g[r+f*e])==t?b[o]++:b[++o]=1,a+=(t=n)?1:-1;i+=I(o)}a<0&&(a=-a);var s=a,l=0;for(s+=s<<2,s<<=1;s>f*f;)s-=f*f,l++;for(i+=10*l,r=0;r<f;r++){for(b[0]=0,o=t=e=0;e<f;e++)(n=g[r+f*e])==t?b[o]++:b[++o]=1,t=n;i+=I(o)}return i}function A(r,e,b,I){void 0===b&&(b=300),void 0===I&&(I=300);var A=document.createElement("canvas");A.id="qrcanv",w=A.getContext("2d");var O=b;I<b&&(O=I),O/=f+10,O=Math.round(O-.5),w.canvas.width=O*(f+2),w.canvas.height=O*(f+2),w.fillStyle="#eee",w.fillRect(0,0,O*(f+2),O*(f+2));var S,j,D=function(r,e){var b,w,I,A,O,S,j,D;A=r.length,o=0;do{if(I=4*(e-1)+16*(++o-1),t=u[I++],n=u[I++],i=u[I++],a=u[I],A<=(I=i*(t+n)+n-3+(o<=9)))break}while(o<40);for(f=17+4*o,O=i+(i+a)*(t+n)+n,A=0;A<O;A++)p[A]=0;for(h=r.slice(0),A=0;A<f*f;A++)g[A]=0;for(A=0;A<(f*(f+1)+1)/2;A++)y[A]=0;for(A=0;A<3;A++){for(I=0,w=0,1==A&&(I=f-7),2==A&&(w=f-7),g[w+3+f*(I+3)]=1,b=0;b<6;b++)g[w+b+f*I]=1,g[w+f*(I+b+1)]=1,g[w+6+f*(I+b)]=1,g[w+b+1+f*(I+6)]=1;for(b=1;b<5;b++)m(w+b,I+1),m(w+1,I+b+1),m(w+5,I+b),m(w+b+1,I+5);for(b=2;b<4;b++)g[w+b+f*(I+2)]=1,g[w+2+f*(I+b+1)]=1,g[w+4+f*(I+b)]=1,g[w+b+1+f*(I+4)]=1}if(o>1)for(A=s[o],w=f-7;;){for(b=f-7;b>A-3&&(q(b,w),!(b<A));)b-=A;if(w<=A+9)break;q(6,w-=A),q(w,6)}for(g[8+f*(f-8)]=1,w=0;w<7;w++)m(7,w),m(f-8,w),m(7,w+f-7);for(b=0;b<8;b++)m(b,7),m(b+f-8,7),m(b,f-8);for(b=0;b<9;b++)m(b,8);for(b=0;b<8;b++)m(b+f-8,8),m(8,b);for(w=0;w<7;w++)m(8,w+f-7);for(b=0;b<f-14;b++)1&b?(m(8+b,6),m(6,8+b)):(g[8+b+6*f]=1,g[6+f*(8+b)]=1);if(o>6)for(A=l[o-7],I=17,b=0;b<6;b++)for(w=0;w<3;w++,I--)1&(I>11?o>>I-12:A>>I)?(g[5-b+f*(2-w+f-11)]=1,g[2-w+f-11+f*(5-b)]=1):(m(5-b,2-w+f-11),m(2-w+f-11,5-b));for(w=0;w<f;w++)for(b=0;b<=w;b++)g[b+f*w]&&m(b,w);for(O=h.length,S=0;S<O;S++)p[S]=h.charCodeAt(S);if(h=p.slice(0),O>=(b=i*(t+n)+n)-2&&(O=b-2,o>9&&O--),S=O,o>9){for(h[S+2]=0,h[S+3]=0;S--;)A=h[S],h[S+3]|=255&A<<4,h[S+2]=A>>4;h[2]|=255&O<<4,h[1]=O>>4,h[0]=64|O>>12}else{for(h[S+1]=0,h[S+2]=0;S--;)A=h[S],h[S+2]|=255&A<<4,h[S+1]=A>>4;h[1]|=255&O<<4,h[0]=64|O>>4}for(S=O+3-(o<10);S<b;)h[S++]=236,h[S++]=17;for(z[0]=1,S=0;S<a;S++){for(z[S+1]=1,j=S;j>0;j--)z[j]=z[j]?z[j-1]^d[k(v[z[j]]+S)]:z[j-1];z[0]=d[k(v[z[0]]+S)]}for(S=0;S<=a;S++)z[S]=v[z[S]];for(I=b,w=0,S=0;S<t;S++)x(w,i,I,a),w+=i,I+=a;for(S=0;S<n;S++)x(w,i+1,I,a),w+=i+1,I+=a;for(w=0,S=0;S<i;S++){for(j=0;j<t;j++)p[w++]=h[S+j*i];for(j=0;j<n;j++)p[w++]=h[t*i+S+j*(i+1)]}for(j=0;j<n;j++)p[w++]=h[t*i+S+j*(i+1)];for(S=0;S<a;S++)for(j=0;j<t+n;j++)p[w++]=h[b+S+j*a];for(h=p,b=w=f-1,I=O=1,D=(i+a)*(t+n)+n,S=0;S<D;S++)for(A=h[S],j=0;j<8;j++,A<<=1){128&A&&(g[b+f*w]=1);do{O?b--:(b++,I?0!=w?w--:(I=!I,6==(b-=2)&&(b--,w=9)):w!=f-1?w++:(I=!I,6==(b-=2)&&(b--,w-=8))),O=!O}while(C(b,w))}for(h=g.slice(0),A=0,w=3e4,I=0;I<8&&(R(I),(b=M())<w&&(w=b,A=I),7!=A);I++)g=h.slice(0);for(A!=I&&R(A),w=c[A+(e-1<<3)],I=0;I<8;I++,w>>=1)1&w&&(g[f-1-I+8*f]=1,I<6?g[8+f*I]=1:g[8+f*(I+1)]=1);for(I=0;I<7;I++,w>>=1)1&w&&(g[8+f*(f-7+I)]=1,I?g[6-I+8*f]=1:g[7+8*f]=1);return g}(e,r);for(w.lineWidth=1,w.clearRect(0,0,b,I),w.fillStyle="#fff",w.fillRect(0,0,O*(f+2),O*(f+2)),w.fillStyle="#000",S=0;S<f;S++)for(j=0;j<f;j++)D[j*f+S]&&w.fillRect(O*(1+S),O*(1+j),O,O);return A.toDataURL()}var O=function(){function r(){this.level=1,this.qrvalue="Test",this.size=200,this.result=null}return r.prototype.ngOnInit=function(){this.result=A(this.level,this.qrvalue,this.size,this.size),console.log("this.result",this.result)},r.prototype.ngOnChanges=function(r){r.qrvalue,r.level,r.size;this.result=A(this.level,this.qrvalue,this.size,this.size)},r}();O.decorators=[{type:e.Component,args:[{selector:"qrcode",template:'<img src="{{result}}">'}]}],O.ctorParameters=function(){return[]},O.propDecorators={level:[{type:e.Input}],qrvalue:[{type:e.Input}],size:[{type:e.Input}]};var S=function(){};S.decorators=[{type:e.NgModule,args:[{declarations:[O],imports:[],exports:[O]}]}],r.AnQrcodeComponent=O,r.AnQrcodeModule=S,Object.defineProperty(r,"__esModule",{value:!0})}));
//# sourceMappingURL=an-qrcode.umd.min.js.map